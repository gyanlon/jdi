(function(t){function e(e){for(var n,a,o=e[0],c=e[1],l=e[2],h=0,f=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},s={app:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},"0f88":function(t,e,r){"use strict";var n=r("3878"),s=r.n(n);s.a},3878:function(t,e,r){},5057:function(t,e,r){"use strict";var n=r("8cfd"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t._m(0),r("div",[t.isRouterAlive?r("router-view",{key:t.$route.path}):t._e()],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[r("span",[t._v("Jimmy ÊµãÈ™åÂ∞èÁ´ô")])])])])}],a=r("bd86"),o=Object(a["a"])({name:"app",methods:{startTest:function(){}},created:function(){this.$router.push("menu")},data:function(){return{isRouterAlive:!0}},provide:function(){return{reload:this.reload}}},"methods",{reload:function(){this.isRouterAlive=!1,this.$nextTick((function(){this.isRouterAlive=!0}))}}),c=o,l=(r("034f"),r("2877")),u=Object(l["a"])(c,s,i,!1,null,null,null),h=u.exports,f=r("c478"),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"exam"},[t.submit?r("h3",[t._v("ËÄÉËØïÂ∑≤ÂÆåÊàê")]):t._e(),t.submit?t._e():r("h3",[t._v("ËÄÉËØï‰∏≠...")]),r("div",{staticClass:"container papper"},[r("ExamPapper",{attrs:{submit:t.submit},on:{change:t.change}})],1),t.submit?t._e():r("div",{staticClass:"container button"},[r("input",{staticClass:"primary-button",attrs:{type:"button",value:"ÂÅöÂÆå‰∫Ü"},on:{click:t.check}})]),t.submit?r("div",{staticClass:"container result"},[r("p",[t._v("ËÄÉËØïÂæóÂàÜÔºö"+t._s(t.resultMessage))]),r("p"),100===t.score?r("h3",[t._v("üêÇüêÇüêÇ"),r("p",[r("a",{attrs:{href:"javascript: void"},on:{click:t.refresh}},[t._v(" ÂÜçÊù• ")])])]):t._e(),t.score>=80&&t.score<100?r("h3",[t._v("Âä†Ê≤πÔºåÂÜçÁªÜÂøÉ‰∏ÄÁÇπÔºå‰Ω†ÂèØ‰ª•ÂæóÂà∞100ÂàÜÁöÑÔºÅ")]):t._e(),t.score>=60&&t.score<80?r("h3",[t._v("ÊúâÁÇπÈöæÂ∫¶ÂêßÔºå‰∏çÊúçÊ∞îÂ∞±"),r("a",{attrs:{href:"javascript: void"},on:{click:t.refresh}},[t._v("  ÁÇπÊàë ")]),t._v("ÂÜçÊù•‰∏ÄÈÅç„ÄÇ")]):t._e(),t.score<60?r("h3",[t._v("Â§±Ë¥•ÊòØÊàêÂäü‰πãÊØçÔºåÈîôÈ¢òÊòØÊúÄÂ•ΩÁöÑËÄÅÂ∏àÔºå‰∏çË¶ÅÁùÄÊÄ•ÔºåÂÖà‰ªîÁªÜÁúãÁúãÊàë‰ª¨ÈîôÂú®Âì™ÂÑø‰∫Ü„ÄÇ"),r("p"),t._v("‰∏çÊúçÊ∞îÂ∞±"),r("a",{attrs:{href:"javascript: void"},on:{click:t.refresh}},[t._v("  ÁÇπÊàë ")]),t._v("ÂÜçÊù•‰∏ÄÈÅç!")]):t._e()]):t._e()])},p=[],d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"questionBody"},[r("ul",t._l(t.questions,(function(e){return r("li",[r("InputQ",{attrs:{id:e.id,score:e.score,content:e.pattern,variables:e.variables,answers:e.answers,submit:t.submit},on:{change:t.change}})],1)})),0)])},g=[],m=r("768b"),b=(r("ac6a"),r("ffc1"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"question",attrs:{id:t.id,score:t.score},domProps:{innerHTML:t._s(t.template)}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.submit,expression:"submit"}]},[t.correct?r("a",{staticClass:"correct"}):t._e(),t.correct?t._e():r("a",{staticClass:"wrong"})])])}),_=[],w=(r("6b54"),r("456d"),r("28a5"),r("a481"),"questions"),y="errors",O=[{id:"q1",score:5,pattern:"{} &times; {} = ()",variables:"3,5",answers:"15",variable_range:["1-9","1-9"],answer_alg:["$[1]*$[2]"]},{id:"q2",score:20,pattern:"{} &times; {} Ë°®Á§∫ () ÁöÑ () <b>ÂÄç</b>Ôºå ÂèàË°®Á§∫() ‰∏™ () „ÄÇ",variables:"8,9",answers:"8,9,9,8",variable_range:["1-9","1-9"],answer_alg:["$[1]","$[2]","$[2]","$[1]"]}];function x(t,e){for(var r="",n=j(t,e),s=0;s<n.length;s++)r+=n[s]+",";return r=r.substr(0,r.length-1),console.log("answers:",r),r}function j(t,e){for(var r=[],n=0;n<e.length;n++){for(var s=[],i=t.split(","),a=0;a<i.length;a++)s[a+1]=i[a];var o=e[n].replace(/\$/g,"adjustArr");console.log("exp=",o,"adjustArr",s),r[n]=window.eval.call(window,"(function (adjustArr) { return "+o+"; })")(s)}return console.log("args:",r),r}function E(t){console.log("ex=",t);var e=t;return t.indexOf("-")>0&&(e=S(parseInt(t.split("-")[0]),parseInt(t.split("-")[1]))),console.log("random:",e),e}function S(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var M={init:function(){console.log("init");for(var t=0;t<O.length;t++){var e=O[t],r="";console.log(e.variable_range);for(var n=0;n<e.variable_range.length;n++)r+=E(e.variable_range[n])+",";e.variables=r.substr(0,r.length-1),console.log(e.variables),e.answers=x(e.variables,e.answer_alg)}window.localStorage.setItem(w,JSON.stringify(O))},fetch:function(){this.init();var t=JSON.parse(window.localStorage.getItem(w)||"[]");return t=this.rearrageIds(t.concat(this.fetchError())),t},rearrageIds:function(t){for(var e=0;e<t.length;e++){var r=t[e];r.id="q"+(e+1)}return t},save:function(t){window.localStorage.setItem(w,JSON.stringify(t))},saveErrors:function(t){window.localStorage.setItem(y,JSON.stringify(t))},appendError:function(t){var e=this.fetchError();this.indexOf(e,t)<0&&(e.push(t),this.saveErrors(e))},removeError:function(t){var e=this.fetchError(),r=this.indexOf(e,t);while(r>=0)e.splice(r,1),r=this.indexOf(e,t);this.saveErrors(e)},fetchError:function(){return JSON.parse(window.localStorage.getItem(y)||"[]")},indexOf:function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.pattern===e.pattern&&n.variables===e.variables)return r}return-1}},I={props:{id:null,score:0,content:null,variables:null,answers:null,submit:!1},data:function(){return{HTMLcontent:null,result:{},template:null,correct:!1}},methods:{getInputHtml:function(t){return"(<input type='text' id='"+this.id+"_in"+t+"' class='input "+this.id+"'/>)"},genQuestions:function(){var t=this.variables.split(",");this.HTMLcontent=this.content;var e=this.HTMLcontent.split("{}");this.HTMLcontent=e[0];for(var r=1;r<e.length;r++)this.HTMLcontent+=t[r-1]+e[r];for(e=this.HTMLcontent.split("()"),this.HTMLcontent=e[0],r=1;r<e.length;r++)this.HTMLcontent+=this.getInputHtml(r-1)+e[r];return"<div>"+this.HTMLcontent+"</div>"},sendBackResponse:function(){console.log(JSON.stringify(this.result)),this.correct=this.check(this.answers,this.result);var t={qid:this.id,score:this.correct?this.score:0};this.$emit("change",t);var e={id:this.id,score:this.score,pattern:this.content,variables:this.variables,answers:this.answers};this.correct?M.removeError(e):M.appendError(e)},check:function(t,e){var r=0,n=t.split(",");if(n.length!==Object.keys(e).length)return!1;for(var s=0,i=Object.entries(e);s<i.length;s++){var a=Object(m["a"])(i[s],2),o=(a[0],a[1]);if(console.log(n[r].toString(),o.toString()),n[r].toString()!==o.toString())return!1;r++}return!0},change:function(t,e){return function(r){t[r.target.id]=r.target.value,e()}}},created:function(){this.template=this.genQuestions()},mounted:function(){var t,e=document.getElementsByClassName("input "+this.id);for(t=0;t<e.length;t++)e[t].addEventListener("change",this.change(this.result,this.sendBackResponse))}},T=I,$=(r("0f88"),Object(l["a"])(T,b,_,!1,null,null,null)),k=$.exports,C={props:{submit:!1},components:{InputQ:k},data:function(){return{total:0,result:{},questions:M.fetch()}},methods:{calculateTotal:function(){var t,e=document.getElementsByClassName("question");for(this.total=0,t=0;t<e.length;t++){var r=e[t].getAttribute("score");r&&(this.total+=parseInt(r))}return this.total},caculateScore:function(t){for(var e=0,r=0,n=Object.entries(t);r<n.length;r++){var s=Object(m["a"])(n[r],2),i=(s[0],s[1]);e+=parseInt(i)}return e},change:function(t){console.log("GET event:",JSON.stringify(t)),this.result[t.qid]=t.score;var e={total:this.calculateTotal(),score:this.caculateScore(this.result)};this.$emit("change",e)}}},A=C,H=Object(l["a"])(A,d,g,!1,null,null,null),N=H.exports,q={components:{ExamPapper:N},data:function(){return{resultMessage:null,score:0,submit:!1}},inject:["reload"],methods:{refresh:function(){this.reload()},change:function(t){this.score=Math.round(100*parseInt(t.score)/parseInt(t.total))},check:function(){this.submit=!1,this.resultMessage="",this.inputAllFilled()?(this.resultMessage=this.score+"ÂàÜ",this.submit=!0,this.disableAllInputBox()):alert("‰Ω†ËøòÊ≤°ÊúâÂÅöÂÆåÂë¢ ÔºÅÔºÅÔºÅ")},inputAllFilled:function(){for(var t=document.getElementsByClassName("input"),e=0;e<t.length;e++){var r=t[e].value;if(!r)return!1}return!0},disableAllInputBox:function(){for(var t=document.getElementsByClassName("input"),e=0;e<t.length;e++)t[e].readOnly=!0}}},L=q,J=(r("5057"),Object(l["a"])(L,v,p,!1,null,null,null)),P=J.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-link",{attrs:{to:"/exam"}},[r("h2",{staticClass:"ab_title",staticStyle:{color:"blue",cursor:"wait"}},[t._v("ÂºÄÂßãÂêß")])])],1)},R=[],Q={name:"Menu"},F=Q,G=Object(l["a"])(F,B,R,!1,null,null,null),z=G.exports;n["a"].use(f["a"]);var D=new f["a"]({routes:[{path:"/exam",name:"Exam",component:P},{path:"/menu",name:"Menu",component:z}]});new n["a"]({el:"#app",router:D,render:function(t){return t(h)}}),n["a"].config.productionTip=!1},"64a9":function(t,e,r){},"8cfd":function(t,e,r){}});
//# sourceMappingURL=app.6f1ee554.js.map